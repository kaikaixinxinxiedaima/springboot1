<!DOCTYPE html>
<html lang="zh_CN" xmlns:th="http://www.thymeleaf.org"
      xmlns:shiro="http://www.pollix.at/thymeleaf/shiro"><head>
    <meta charset="UTF-8">
    <title>登陆</title>
</head>
<script src="/views/js/jquery-1.8.3.js"></script>

<body>
<form id="form" style="width: 100%;height: 100%">
    <table style="text-align: center;margin-left: 40%">
        <tr>
            <td colspan="2">
                <h4>登录页</h4>
            </td>
        </tr>
        <tr>
            <td>用户名：</td>
            <td>
                <input name="username">
            </td>
        </tr>
        <tr>
            <td>密码：</td>
            <td>
                <input name="password">
            </td>
        </tr>
        <tr>
            <td colspan="2">
                <button shiro:hasPermission="book:list" type="reset">
                    重置
                </button>
                <button shiro:hasPermission="book:add" type="button" onclick="submit1()">
                    提交
                </button>
            </td>
        </tr>
    </table>
</form>
</body>
<script>
    function submit1() {
        var formData = $("#form").serialize();
        $.ajax({
            url:"/auth/login",
            type:"POST",//为post请求
            dataType:"json",
            data:formData,
            async:false,
            success:function(data){//请求成功之后的操作}
                document.location.href="/search";
                return true;
                // window.event.returnValue=false;
            },
            error:function(request){//请求失败之后的操作
            }
        })
    }

</script>
</html>